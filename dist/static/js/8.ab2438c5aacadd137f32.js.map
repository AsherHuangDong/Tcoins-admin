{"version":3,"sources":["webpack:///src/components/page/otcs/memberAdd.vue","webpack:///./src/components/page/otcs/memberAdd.vue?4ebd","webpack:///./src/components/page/otcs/memberAdd.vue"],"names":["memberAdd","name","data","list","formValidate","userMobile","agentId","agentName","ruleCustom","required","validator","trigger","methods","handleSubmit","_this","this","$refs","validate","valid","obj","userMobileid","forEach","item","console","log","$axios","post","then","res","code","$Message","success","$router","go","error","msg","handleReset","resetFields","getAgent","_this2","mounted","$route","query","mobile","otcs_memberAdd","render","_vm","_h","$createElement","_c","_self","ref","attrs","rules","model","label-width","label","prop","staticStyle","width","value","callback","$$v","$set","expression","_v","placeholder","_l","key","_s","type","on","click","$event","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.ab2438c5aacadd137f32.js","sourcesContent":["<template>\n  <div>\n    <Form ref=\"formValidate\" :rules=\"ruleCustom\" :model=\"formValidate\" :label-width=\"100\">\n      <FormItem label=\"承兑商:\" prop=\"userMobile\">\n        <Input v-model=\"formValidate.userMobile\" style=\"width:270px\"></Input>\n      </FormItem>\n      <FormItem label=\"承兑商角色:\" prop=\"type\">\n        <Select v-model=\"formValidate.agentId\" placeholder=\"请选择\" style=\"width:270px\">\n          <Option v-for=\"item in list\" :key=\"item.agentId\" :value=\"item.agentId\">天启计划-{{item.agentName}}</Option>\n        </Select>\n      </FormItem>\n      <FormItem>\n        <Button type=\"info\" @click=\"handleSubmit('formValidate')\" style=\"width:180px\">保存</Button>\n        <Button @click=\"handleReset('formValidate')\" style=\"margin-left: 8px;width:180px\">取消</Button>\n      </FormItem>\n    </Form>\n  </div>\n</template>\n<script>\nexport default {\n  name: \"memberAdd\",\n  data() {\n    return {\n      list: [],\n      formValidate: {\n        userMobile: \"\",\n        agentId: \"\",\n        agentName:''\n      },\n      ruleCustom: {\n        userMobile: [{required: true, validator: \"承兑商不能为空\", trigger: \"blur\" }],\n        agentId: [{required: true, validator: \"承兑商角色不能为空\", trigger: \"blur\" }]\n      }\n    };\n  },\n  methods: {\n    handleSubmit(name) {\n      this.$refs[name].validate(valid => {\n        if (valid) {\n            let obj = {}\n            obj.userMobileid = this.formValidate.userMobile;\n            obj.agentId = this.formValidate.agentId;\n            this.list.forEach(item=>{\n                if(item.agentId == this.formValidate.agentId){\n                    obj.agentName = item.agentName;\n                }\n            })\n          console.log(obj)\n          this.$axios.post('/api/userAgent/update',obj).then(res=>{\n              if(res.data.code == 100){\n                  this.$Message.success('添加成功！')\n                  this.$router.go(-1)\n              }else{\n                  this.$Message.error(res.data.msg)\n              }\n          })\n        } else {\n          this.$Message.error(\"Fail!\");\n        }\n      });\n    },\n    handleReset(name) {\n      this.$refs[name].resetFields();\n      this.$router.go(-1)\n    },\n     getAgent() {\n      this.$axios.post(\"/api/agent/listAgent\").then(res => {\n        this.list = res.data.data;\n      });\n    },\n    \n  },\n  mounted() {\n      this.getAgent();\n      this.formValidate.agentId = this.$route.query.agentId;\n      this.formValidate.mobile = this.$route.query.mobile;\n      console.log(this.formValidate)\n  }\n};\n</script>\n<style>\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/otcs/memberAdd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Form',{ref:\"formValidate\",attrs:{\"rules\":_vm.ruleCustom,\"model\":_vm.formValidate,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"承兑商:\",\"prop\":\"userMobile\"}},[_c('Input',{staticStyle:{\"width\":\"270px\"},model:{value:(_vm.formValidate.userMobile),callback:function ($$v) {_vm.$set(_vm.formValidate, \"userMobile\", $$v)},expression:\"formValidate.userMobile\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"承兑商角色:\",\"prop\":\"type\"}},[_c('Select',{staticStyle:{\"width\":\"270px\"},attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.formValidate.agentId),callback:function ($$v) {_vm.$set(_vm.formValidate, \"agentId\", $$v)},expression:\"formValidate.agentId\"}},_vm._l((_vm.list),function(item){return _c('Option',{key:item.agentId,attrs:{\"value\":item.agentId}},[_vm._v(\"天启计划-\"+_vm._s(item.agentName))])}),1)],1),_vm._v(\" \"),_c('FormItem',[_c('Button',{staticStyle:{\"width\":\"180px\"},attrs:{\"type\":\"info\"},on:{\"click\":function($event){return _vm.handleSubmit('formValidate')}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('Button',{staticStyle:{\"margin-left\":\"8px\",\"width\":\"180px\"},on:{\"click\":function($event){return _vm.handleReset('formValidate')}}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b3526bd\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/page/otcs/memberAdd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b3526bd\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./memberAdd.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./memberAdd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./memberAdd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b3526bd\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./memberAdd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/otcs/memberAdd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}