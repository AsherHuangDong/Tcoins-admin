webpackJsonp([8],{"Lk8/":function(e,t){},Zu9W:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"memberAdd",data:function(){return{list:[],formValidate:{userMobile:"",agentId:"",agentName:""},ruleCustom:{userMobile:[{required:!0,validator:"承兑商不能为空",trigger:"blur"}],agentId:[{required:!0,validator:"承兑商角色不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var a={};a.userMobileid=t.formValidate.userMobile,a.agentId=t.formValidate.agentId,t.list.forEach(function(e){e.agentId==t.formValidate.agentId&&(a.agentName=e.agentName)}),console.log(a),t.$axios.post("/api/userAgent/update",a).then(function(e){100==e.data.code?(t.$Message.success("添加成功！"),t.$router.go(-1)):t.$Message.error(e.data.msg)})}else t.$Message.error("Fail!")})},handleReset:function(e){this.$refs[e].resetFields(),this.$router.go(-1)},getAgent:function(){var e=this;this.$axios.post("/api/agent/listAgent").then(function(t){e.list=t.data.data})}},mounted:function(){this.getAgent(),this.formValidate.agentId=this.$route.query.agentId,this.formValidate.mobile=this.$route.query.mobile,console.log(this.formValidate)}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Form",{ref:"formValidate",attrs:{rules:e.ruleCustom,model:e.formValidate,"label-width":100}},[a("FormItem",{attrs:{label:"承兑商:",prop:"userMobile"}},[a("Input",{staticStyle:{width:"270px"},model:{value:e.formValidate.userMobile,callback:function(t){e.$set(e.formValidate,"userMobile",t)},expression:"formValidate.userMobile"}})],1),e._v(" "),a("FormItem",{attrs:{label:"承兑商角色:",prop:"type"}},[a("Select",{staticStyle:{width:"270px"},attrs:{placeholder:"请选择"},model:{value:e.formValidate.agentId,callback:function(t){e.$set(e.formValidate,"agentId",t)},expression:"formValidate.agentId"}},e._l(e.list,function(t){return a("Option",{key:t.agentId,attrs:{value:t.agentId}},[e._v("天启计划-"+e._s(t.agentName))])}),1)],1),e._v(" "),a("FormItem",[a("Button",{staticStyle:{width:"180px"},attrs:{type:"info"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("保存")]),e._v(" "),a("Button",{staticStyle:{"margin-left":"8px",width:"180px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(r,i,!1,function(e){a("Lk8/")},null,null);t.default=o.exports}});
//# sourceMappingURL=8.ab2438c5aacadd137f32.js.map