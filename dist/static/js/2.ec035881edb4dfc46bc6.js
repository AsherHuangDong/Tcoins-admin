webpackJsonp([2],{"3fe3":function(t,e){},tnrB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"memberManagement",data:function(){return{modal:!1,loading:!1,getSearch:{mobile:"",agentId:"",page:1,pageSize:10},id:"",columns1:[{title:"UID",align:"center",ellipsis:!0,key:"userId"},{title:"手机号码",align:"center",ellipsis:!0,key:"userMobile"},{title:"承兑商角色",align:"center",ellipsis:!0,key:"agentName"},{title:"操作",align:"center",ellipsis:!0,slot:"edit"}],list:[],total:0,data1:[],isBigger:!1,isshow:!1,agentId:""}},methods:{getData:function(){var t=this;this.loading=!0,this.$axios.post("/api/userAgent/list",this.getSearch).then(function(e){t.loading=!1,100==e.data.code?(t.data1=e.data.data.records,t.total=e.data.data.total):t.$Message.info(e.data.msg)})},getAgent:function(){var t=this;this.$axios.post("/api/agent/listAgent").then(function(e){t.list=e.data.data})},addRole:function(){this.$router.push("/addRole")},Delete:function(t){this.id=t,this.modal=!0},ok:function(){var t=this;this.$axios.post("/api/userAgent/delete",{id:this.id}).then(function(e){100==e.data.code?(t.$Message.success("删除成功"),t.getData(),t.modal=!1):t.$Message.info(e.data.msg)})},cancel:function(){this.$Message.info("用户点击了取消"),this.modal=!1},edit:function(t,e,a){console.log(a),this.$router.push({path:"/memberEdit",query:{id:t,agentId:e,mobile:a}})},out:function(){console.log(this.getSearch),window.location.href="/api/userAgent/export?mobile="+this.getSearch.mobile+"&&agentId="+this.getSearch.agentId,this.$axios.get("/api/userAgent/export?mobile="+this.getSearch.mobile+"&&agentId="+this.getSearch.agentId).then(function(t){console.log(t.data)})},changePage:function(t){this.getSearch.page=t,this.getData()},changePageSize:function(t){this.getSearch.pageSize=t,this.getData()},memberAdd:function(){this.$router.push("/memberAdd")}},mounted:function(){this.getData(),this.getAgent()}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{width:"388",closable:!1,"footer-hide":""},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",width:"100%",height:"67px",background:"rgba(234,243,252,1)","border-radius":"4px 4px 0px 0px"}},[a("span",{staticStyle:{"font-size":"20px","font-weight":"400",color:"rgba(19,112,218,1)"}},[t._v("是否删除该条记录？")])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","margin-top":"26px"}},[a("span",{staticStyle:{"font-size":"16px","font-family":"Source Han Sans CN","font-weight":"400",color:"rgba(51,51,51,1)"}},[t._v("删除后将无法被恢复")])]),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"32px"}},[a("Button",{staticStyle:{width:"90px",height:"42px","margin-bottom":"28px"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("Button",{staticStyle:{width:"90px",height:"42px","margin-left":"40px","margin-bottom":"28px"},attrs:{type:"primary"},on:{click:t.ok}},[t._v("删除")])],1)]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"flex-start:align-items:center","margin-left":"150px"}},[a("div",{staticStyle:{"margin-right":"10px"}},[a("span",[t._v("承兑商:")]),t._v(" "),a("Input",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:t.getSearch.mobile,callback:function(e){t.$set(t.getSearch,"mobile",e)},expression:"getSearch.mobile"}})],1),t._v(" "),a("div",{staticStyle:{"margin-right":"10px"}},[a("span",[t._v("承兑商角色:")]),t._v(" "),a("Select",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"请选择"},model:{value:t.getSearch.agentId,callback:function(e){t.$set(t.getSearch,"agentId",e)},expression:"getSearch.agentId"}},t._l(t.list,function(e){return a("Option",{key:e.agentId,attrs:{value:e.agentId}},[t._v("天启计划-"+t._s(e.agentName))])}),1)],1),t._v(" "),a("div",[a("Button",{staticStyle:{"margin-right":"10px"},attrs:{type:"success",icon:"ios-search"},on:{click:t.getData}},[t._v("查询")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:t.out}},[t._v("导出")])],1)]),t._v(" "),a("br"),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.memberAdd}},[t._v("添加承兑商")]),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("Table",{attrs:{border:"",columns:t.columns1,data:t.data1,loading:t.loading},scopedSlots:t._u([{key:"edit",fn:function(e){var i=e.row;return e.index,[a("Button",{attrs:{type:"success"},on:{click:function(e){return t.edit(i.id,i.agentId,i.userMobile)}}},[t._v("编辑")]),t._v(" "),a("Button",{attrs:{type:"success"},on:{click:function(e){return t.Delete(i.id)}}},[t._v("删除")])]}}])}),t._v(" "),a("br"),t._v(" "),a("Row",[a("Col",{staticStyle:{"text-align":"right"},attrs:{span:"24"}},[a("Page",{attrs:{total:t.total,current:t.getSearch.page,"page-size":t.getSearch.pageSize,"show-total":"","show-sizer":"","show-elevator":""},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}})],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(i,n,!1,function(t){a("3fe3")},null,null);e.default=s.exports}});
//# sourceMappingURL=2.ec035881edb4dfc46bc6.js.map