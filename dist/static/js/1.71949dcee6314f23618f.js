webpackJsonp([1],{BDuw:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"memberEdit",data:function(){return{list:[],formValidate:{id:"",mobile:"",agentId:"",agentName:""},ruleCustom:{mobile:[{required:!0,validator:"承兑商不能为空",trigger:"blur"}],agentId:[{required:!0,validator:"承兑商角色不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a={};a.id=e.formValidate.id,a.agentId=e.formValidate.agentId,e.list.forEach(function(t){t.agentId==e.formValidate.agentId&&(a.agentName=t.agentName)}),console.log(a),e.$axios.post("/api/userAgent/update",a).then(function(t){100==t.data.code?(e.$Message.success("修改成功！"),e.$router.go(-1)):e.$Message.error(t.data.msg)})}else e.$Message.error("Fail!")})},handleReset:function(t){this.$refs[t].resetFields(),this.$router.go(-1)},getAgent:function(){var t=this;this.$axios.post("/api/agent/listAgent").then(function(e){t.list=e.data.data,t.list.unshift({agentId:"0",agentName:"普通承兑商"})})}},mounted:function(){this.getAgent(),this.formValidate.id=this.$route.query.id,this.formValidate.agentId=this.$route.query.agentId,this.formValidate.mobile=this.$route.query.mobile,console.log(this.formValidate)}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formValidate",attrs:{rules:t.ruleCustom,model:t.formValidate,"label-width":100}},[a("FormItem",{attrs:{label:"承兑商:",prop:"mobile"}},[a("Input",{staticStyle:{width:"270px"},attrs:{disabled:""},model:{value:t.formValidate.mobile,callback:function(e){t.$set(t.formValidate,"mobile",e)},expression:"formValidate.mobile"}})],1),t._v(" "),a("FormItem",{attrs:{label:"承兑商角色:",prop:"type"}},[a("Select",{staticStyle:{width:"270px"},attrs:{placeholder:"请选择"},model:{value:t.formValidate.agentId,callback:function(e){t.$set(t.formValidate,"agentId",e)},expression:"formValidate.agentId"}},t._l(t.list,function(e){return a("Option",{key:e.agentId,attrs:{value:e.agentId}},[t._v("天启计划-"+t._s(e.agentName))])}),1)],1),t._v(" "),a("FormItem",[a("Button",{staticStyle:{width:"180px"},attrs:{type:"info"},on:{click:function(e){return t.handleSubmit("formValidate")}}},[t._v("保存")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"8px",width:"180px"},on:{click:function(e){return t.handleReset("formValidate")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(i,r,!1,function(t){a("PNKq")},null,null);e.default=n.exports},PNKq:function(t,e){}});
//# sourceMappingURL=1.71949dcee6314f23618f.js.map